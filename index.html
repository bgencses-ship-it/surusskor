<!DOCTYPE html>
<html class="dark" lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>SürüşSkor - Driving Score Dashboard</title>
    <meta name="description" content="Motosiklet sürücüleri için akıllı hava durumu analizi ve güvenli rota planlama">

    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">

    <!-- Theme Colors -->
    <meta name="theme-color" content="#0da6f2">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&display=swap"
        rel="stylesheet" />
    <link
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
        rel="stylesheet" />

    <!-- Leaflet for Maps -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#0da6f2",
                        "background-light": "#f5f7f8",
                        "background-dark": "#101c22",
                    },
                    fontFamily: {
                        "display": ["Space Grotesk", "sans-serif"]
                    },
                    borderRadius: {
                        "DEFAULT": "1rem",
                        "lg": "2rem",
                        "xl": "3rem",
                        "full": "9999px"
                    },
                },
            },
        }
    </script>

    <style>
        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 300, 'GRAD' 0, 'opsz' 24;
        }

        body {
            min-height: 100dvh;
        }
    </style>
</head>

<body class="bg-background-light dark:bg-background-dark font-display">
    <!-- iOS Safe Area Top -->
    <div class="fixed top-0 left-0 right-0 bg-background-dark z-50" style="height: env(safe-area-inset-top);"></div>

    <!-- Main Container -->
    <div class="relative mx-auto flex h-auto min-h-screen w-full max-w-md flex-col overflow-x-hidden"
        style="padding-top: env(safe-area-inset-top); padding-bottom: calc(80px + env(safe-area-inset-bottom));">

        <!-- HOME TAB -->
        <div id="home-tab" class="tab-content">
            <header class="px-4 pt-8 pb-4 flex items-center justify-between">
                <div>
                    <h1 class="text-zinc-800 dark:text-white tracking-tight text-3xl font-bold leading-tight">Günaydın
                    </h1>
                    <p class="text-zinc-600 dark:text-zinc-400 text-base font-normal leading-normal pt-1">Sürüşe hazır
                        mısın?</p>
                </div>
                <button id="refresh-btn"
                    class="flex items-center justify-center w-12 h-12 rounded-full bg-zinc-200 dark:bg-zinc-800 text-zinc-800 dark:text-white hover:bg-zinc-300 dark:hover:bg-zinc-700 transition-all">
                    <span class="material-symbols-outlined">refresh</span>
                </button>
            </header>

            <!-- Score Circle -->
            <div class="flex flex-col items-center justify-center p-4" id="score-section">
                <div class="relative h-48 w-48">
                    <svg class="h-full w-full" height="36" viewBox="0 0 36 36" width="36"
                        xmlns="http://www.w3.org/2000/svg">
                        <circle class="stroke-current text-zinc-200 dark:text-zinc-700" cx="18" cy="18" fill="none"
                            r="16" stroke-width="3"></circle>
                        <circle id="score-ring" class="stroke-current text-primary" cx="18" cy="18" fill="none" r="16"
                            stroke-dasharray="100" stroke-dashoffset="15" stroke-linecap="round" stroke-width="3"
                            transform="rotate(-90 18 18)"></circle>
                    </svg>
                    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 transform text-center">
                        <span id="score-number" class="text-5xl font-bold text-zinc-800 dark:text-white">--</span>
                        <p class="text-xs text-zinc-500 dark:text-zinc-400">Sürüş Skoru</p>
                    </div>
                </div>
            </div>



            <!-- Loading / Error -->
            <div id="loading" class="text-center py-4">
                <p class="text-zinc-500 dark:text-zinc-400">Konum alınıyor...</p>
            </div>
            <div id="error-msg" class="hidden mx-4 p-4 bg-red-500/10 border border-red-500/20 rounded-lg">
                <p class="text-red-500 text-sm"></p>
            </div>

            <!-- Weather Cards -->
            <div id="weather-section" class="hidden">
                <h3
                    class="text-zinc-800 dark:text-white text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4">
                    Mevcut Koşullar</h3>
                <div class="grid grid-cols-2 gap-3 p-4 pt-1">
                    <div
                        class="flex flex-1 gap-3 rounded-lg border border-zinc-200 dark:border-zinc-800 bg-white/50 dark:bg-zinc-900/50 p-4 flex-col">
                        <span class="material-symbols-outlined text-zinc-600 dark:text-primary">device_thermostat</span>
                        <div class="flex flex-col gap-1">
                            <h2 id="temp-value" class="text-zinc-800 dark:text-white text-base font-bold leading-tight">
                                --°C</h2>
                            <p class="text-zinc-500 dark:text-zinc-400 text-sm font-normal leading-normal">Sıcaklık</p>
                        </div>
                    </div>
                    <div
                        class="flex flex-1 gap-3 rounded-lg border border-zinc-200 dark:border-zinc-800 bg-white/50 dark:bg-zinc-900/50 p-4 flex-col">
                        <span class="material-symbols-outlined text-zinc-600 dark:text-primary">air</span>
                        <div class="flex flex-col gap-1">
                            <h2 id="wind-value" class="text-zinc-800 dark:text-white text-base font-bold leading-tight">
                                --</h2>
                            <p class="text-zinc-500 dark:text-zinc-400 text-sm font-normal leading-normal">Rüzgar</p>
                        </div>
                    </div>
                    <div
                        class="flex flex-1 gap-3 rounded-lg border border-zinc-200 dark:border-zinc-800 bg-white/50 dark:bg-zinc-900/50 p-4 flex-col">
                        <span class="material-symbols-outlined text-zinc-600 dark:text-primary">rainy</span>
                        <div class="flex flex-col gap-1">
                            <h2 id="rain-value" class="text-zinc-800 dark:text-white text-base font-bold leading-tight">
                                --</h2>
                            <p class="text-zinc-500 dark:text-zinc-400 text-sm font-normal leading-normal">Yağış</p>
                        </div>
                    </div>
                    <div
                        class="flex flex-1 gap-3 rounded-lg border border-zinc-200 dark:border-zinc-800 bg-white/50 dark:bg-zinc-900/50 p-4 flex-col">
                        <span class="material-symbols-outlined text-zinc-600 dark:text-primary">thermostat</span>
                        <div class="flex flex-col gap-1">
                            <h2 id="feel-value" class="text-zinc-800 dark:text-white text-base font-bold leading-tight">
                                --°C</h2>
                            <p class="text-zinc-500 dark:text-zinc-400 text-sm font-normal leading-normal">Hissedilen
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ROUTES TAB -->
        <div id="routes-tab" class="tab-content hidden">
            <header class="px-4 pt-8 pb-4">
                <h1 class="text-zinc-800 dark:text-white tracking-tight text-2xl font-bold leading-tight">Rota Planlama
                </h1>
            </header>

            <div class="px-4 space-y-4">
                <!-- Form Container -->
                <div class="relative flex flex-col gap-4 rounded-lg bg-zinc-200/50 dark:bg-zinc-800/20 p-6 shadow-sm">
                    <!-- Start Location -->
                    <div class="relative flex flex-col">
                        <label class="text-zinc-600 dark:text-zinc-400 text-sm font-medium leading-normal pb-2"
                            for="start-input">Başlangıç</label>
                        <div class="relative">
                            <span
                                class="material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-zinc-400 dark:text-zinc-500">location_on</span>
                            <input id="start-input" type="text" placeholder="Başlangıç konumu girin"
                                value="Mevcut Konum"
                                class="w-full rounded-full border border-zinc-300 dark:border-zinc-700 bg-background-light dark:bg-zinc-900 pl-12 pr-4 h-14 text-base text-zinc-900 dark:text-white placeholder:text-zinc-500 focus:outline-none focus:ring-2 focus:ring-primary/50">
                        </div>
                    </div>

                    <!-- Destination -->
                    <div class="relative flex flex-col">
                        <label class="text-zinc-600 dark:text-zinc-400 text-sm font-medium leading-normal pb-2"
                            for="end-input">Varış</label>
                        <div class="relative">
                            <span
                                class="material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-zinc-400 dark:text-zinc-500">flag</span>
                            <input id="end-input" type="text" placeholder="Varış adresini girin"
                                class="w-full rounded-full border border-zinc-300 dark:border-zinc-700 bg-background-light dark:bg-zinc-900 pl-12 pr-4 h-14 text-base text-zinc-900 dark:text-white placeholder:text-zinc-500 focus:outline-none focus:ring-2 focus:ring-primary/50">
                        </div>
                    </div>
                </div>

                <!-- Get Score Button -->
                <button id="route-btn"
                    class="w-full rounded-full bg-primary px-5 h-14 text-white text-base font-bold tracking-[0.015em] shadow-lg shadow-primary/30 hover:brightness-110 transition-all">
                    Sürüş Skorunu Al
                </button>

                <!-- Route Results -->
                <div id="route-results" class="hidden space-y-4">
                    <!-- Score Circle -->
                    <div class="flex flex-col items-center justify-center pt-4">
                        <div class="relative h-40 w-40">
                            <svg class="h-full w-full" height="36" viewBox="0 0 36 36" width="36"
                                xmlns="http://www.w3.org/2000/svg">
                                <circle class="stroke-current text-zinc-200 dark:text-zinc-700" cx="18" cy="18"
                                    fill="none" r="16" stroke-width="3"></circle>
                                <circle id="route-score-ring" class="stroke-current text-primary" cx="18" cy="18"
                                    fill="none" r="16" stroke-dasharray="100" stroke-dashoffset="15"
                                    stroke-linecap="round" stroke-width="3" transform="rotate(-90 18 18)"></circle>
                            </svg>
                            <div
                                class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 transform text-center">
                                <span id="route-score-number"
                                    class="text-4xl font-bold text-zinc-800 dark:text-white">--</span>
                                <p class="text-xs text-zinc-500 dark:text-zinc-400">Sürüş Skoru</p>
                            </div>
                        </div>
                    </div>

                    <!-- Weather Cards -->
                    <div>
                        <h3
                            class="text-zinc-800 dark:text-white text-lg font-bold leading-tight tracking-[-0.015em] pb-2">
                            Rota Hava Durumu</h3>
                        <div class="grid grid-cols-2 gap-3">
                            <div
                                class="flex flex-1 gap-3 rounded-lg border border-zinc-200 dark:border-zinc-800 bg-white/50 dark:bg-zinc-900/50 p-4 flex-col">
                                <span
                                    class="material-symbols-outlined text-zinc-600 dark:text-primary">device_thermostat</span>
                                <div class="flex flex-col gap-1">
                                    <h2 id="route-temp-value"
                                        class="text-zinc-800 dark:text-white text-base font-bold leading-tight">--°C
                                    </h2>
                                    <p class="text-zinc-500 dark:text-zinc-400 text-sm font-normal leading-normal">
                                        Sıcaklık</p>
                                </div>
                            </div>
                            <div
                                class="flex flex-1 gap-3 rounded-lg border border-zinc-200 dark:border-zinc-800 bg-white/50 dark:bg-zinc-900/50 p-4 flex-col">
                                <span class="material-symbols-outlined text-zinc-600 dark:text-primary">air</span>
                                <div class="flex flex-col gap-1">
                                    <h2 id="route-wind-value"
                                        class="text-zinc-800 dark:text-white text-base font-bold leading-tight">--</h2>
                                    <p class="text-zinc-500 dark:text-zinc-400 text-sm font-normal leading-normal">
                                        Rüzgar</p>
                                </div>
                            </div>
                            <div
                                class="flex flex-1 gap-3 rounded-lg border border-zinc-200 dark:border-zinc-800 bg-white/50 dark:bg-zinc-900/50 p-4 flex-col">
                                <span class="material-symbols-outlined text-zinc-600 dark:text-primary">rainy</span>
                                <div class="flex flex-col gap-1">
                                    <h2 id="route-rain-value"
                                        class="text-zinc-800 dark:text-white text-base font-bold leading-tight">--</h2>
                                    <p class="text-zinc-500 dark:text-zinc-400 text-sm font-normal leading-normal">
                                        Yağış</p>
                                </div>
                            </div>
                            <div
                                class="flex flex-1 gap-3 rounded-lg border border-zinc-200 dark:border-zinc-800 bg-white/50 dark:bg-zinc-900/50 p-4 flex-col">
                                <span
                                    class="material-symbols-outlined text-zinc-600 dark:text-primary">thermostat</span>
                                <div class="flex flex-col gap-1">
                                    <h2 id="route-feel-value"
                                        class="text-zinc-800 dark:text-white text-base font-bold leading-tight">--°C
                                    </h2>
                                    <p class="text-zinc-500 dark:text-zinc-400 text-sm font-normal leading-normal">
                                        Hissedilen</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- External Map Buttons -->
                    <div class="flex gap-4 pt-2">
                        <button id="btn-open-google"
                            class="flex flex-1 flex-col items-center justify-center gap-2 rounded-lg bg-zinc-200/50 dark:bg-zinc-800/20 px-5 py-4 text-sm font-medium text-zinc-900 dark:text-white hover:bg-zinc-300/50 dark:hover:bg-zinc-700/30 transition-all">
                            <div class="h-10 w-10 flex items-center justify-center">
                                <svg viewBox="0 0 48 48" class="h-10 w-10">
                                    <path fill="#1976D2"
                                        d="M38.71,20.07C38.71,20.07,38.71,20.07,38.71,20.07c0-0.11,0-0.21,0-0.32c0-6.26-5.07-11.33-11.33-11.33 c-4.5,0-8.39,2.62-10.24,6.43l6.1,5.03L38.71,20.07z" />
                                    <path fill="#FFC107"
                                        d="M24,40c5.37,0,9.88-3.73,11.06-8.73L24,24L12.94,31.27C14.12,36.27,18.63,40,24,40z" />
                                    <path fill="#4CAF50"
                                        d="M10.47,28.39C9.53,26.58,9,24.54,9,22.38c0-3.89,1.96-7.32,4.95-9.36L24,24L10.47,28.39z" />
                                    <path fill="#F44336"
                                        d="M24,8.42c2.62,0,5.04,0.9,6.96,2.4l6.63-6.63C33.81,1.67,29.16,0,24.05,0C15.67,0,8.4,4.76,4.78,11.78 l9.17,7.24C15.44,13.88,19.35,8.42,24,8.42z" />
                                </svg>
                            </div>
                            <span>Google Maps</span>
                        </button>

                        <button id="btn-open-apple"
                            class="flex flex-1 flex-col items-center justify-center gap-2 rounded-lg bg-zinc-200/50 dark:bg-zinc-800/20 px-5 py-4 text-sm font-medium text-zinc-900 dark:text-white hover:bg-zinc-300/50 dark:hover:bg-zinc-700/30 transition-all">
                            <div class="h-10 w-10 flex items-center justify-center">
                                <svg viewBox="0 0 48 48" class="h-10 w-10">
                                    <linearGradient id="appleGrad" x1="24" y1="4" x2="24" y2="44"
                                        gradientUnits="userSpaceOnUse">
                                        <stop offset="0" stop-color="#42D778" />
                                        <stop offset="1" stop-color="#34C759" />
                                    </linearGradient>
                                    <path fill="url(#appleGrad)"
                                        d="M24,4C12.95,4,4,12.95,4,24s8.95,20,20,20s20-8.95,20-20S35.05,4,24,4z" />
                                    <path fill="#fff"
                                        d="M24,12c-1.5,0-3,0.5-4,1.5l-8,8c-1,1-1.5,2.5-1.5,4s0.5,3,1.5,4l8,8c1,1,2.5,1.5,4,1.5s3-0.5,4-1.5l8-8 c1-1,1.5-2.5,1.5-4s-0.5-3-1.5-4l-8-8C27,12.5,25.5,12,24,12z M24,16c0.5,0,1,0.2,1.5,0.5l8,8c0.3,0.5,0.5,1,0.5,1.5 s-0.2,1-0.5,1.5l-8,8c-0.5,0.3-1,0.5-1.5,0.5s-1-0.2-1.5-0.5l-8-8c-0.3-0.5-0.5-1-0.5-1.5s0.2-1,0.5-1.5l8-8 C23,16.2,23.5,16,24,16z" />
                                    <circle fill="#fff" cx="24" cy="24" r="3" />
                                </svg>
                            </div>
                            <span>Apple Maps</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- GPS SPEED TAB -->
        <div id="gps-speed-tab" class="tab-content hidden flex flex-col h-full">
            <!-- Header -->
            <header class="px-4 pt-8 pb-4">
                <h1 class="text-zinc-800 dark:text-white tracking-tight text-2xl font-bold leading-tight text-center">
                    Anlık Hız</h1>
            </header>

            <!-- Speedometer Gauge -->
            <div class="flex-grow flex flex-col items-center justify-center p-4">
                <div class="relative w-full max-w-sm aspect-square flex items-center justify-center">
                    <!-- Outer glow effect -->
                    <div class="absolute inset-0 rounded-full bg-primary/20 blur-2xl"></div>
                    <!-- Background dial -->
                    <div class="absolute inset-[10%] rounded-full bg-zinc-800/50 border border-white/10"></div>
                    <!-- Speed Arc -->
                    <svg class="absolute w-full h-full transform -rotate-90" viewBox="0 0 100 100">
                        <circle cx="50" cy="50" fill="none" pathLength="100" r="40" stroke="rgba(255,255,255,0.1)"
                            stroke-linecap="round" stroke-width="6"></circle>
                        <circle id="speed-arc" cx="50" cy="50" fill="none" pathLength="100" r="40" stroke="#0da6f2"
                            stroke-dasharray="0 100" stroke-dashoffset="0" stroke-linecap="round" stroke-width="6">
                        </circle>
                    </svg>
                    <!-- Digital Readout -->
                    <div class="z-10 text-center">
                        <p class="text-white/60 text-base font-medium leading-tight">Anlık Hız</p>
                        <h1 id="current-speed" class="text-white text-[80px] font-bold leading-none tracking-tighter">
                            0</h1>
                        <p class="text-white/80 text-xl font-medium leading-tight">km/h</p>
                    </div>
                </div>
            </div>

            <!-- Start/Stop Button -->
            <div class="px-4 pb-4">
                <button id="start-gps-btn"
                    class="w-full rounded-full bg-green-500 px-5 h-14 text-white text-base font-bold tracking-[0.015em] shadow-lg shadow-green-500/30 hover:brightness-110 transition-all">
                    GPS'i Başlat
                </button>
                <button id="stop-gps-btn"
                    class="w-full rounded-full bg-red-500 px-5 h-14 text-white text-base font-bold tracking-[0.015em] shadow-lg shadow-red-500/30 hover:brightness-110 transition-all hidden">
                    GPS'i Durdur
                </button>
            </div>

            <!-- Max Speed Card -->
            <div class="px-4 pb-4">
                <div class="flex items-center justify-between gap-4 rounded-lg bg-white/5 dark:bg-white/5 p-6">
                    <div class="flex flex-col gap-1">
                        <p class="text-zinc-800 dark:text-white text-lg font-bold leading-tight">Maksimum Hız</p>
                        <p class="text-zinc-500 dark:text-white/60 text-sm font-normal leading-normal">Bu sürüşteki en
                            yüksek hız</p>
                    </div>
                    <div class="flex items-baseline gap-2">
                        <span id="max-speed" class="text-zinc-800 dark:text-white text-4xl font-bold">0</span>
                        <span class="text-zinc-500 dark:text-white/80 text-lg font-medium">km/h</span>
                    </div>
                </div>
            </div>

            <!-- GPS Status -->
            <div class="px-4 pb-4">
                <div class="flex items-center justify-center gap-2 text-sm">
                    <div id="gps-status-indicator" class="w-2 h-2 rounded-full bg-gray-500"></div>
                    <span id="gps-status-text" class="text-zinc-500 dark:text-zinc-400">GPS bekleniyor...</span>
                </div>
            </div>
        </div>

        <!-- FUEL CALC TAB -->
        <div id="fuel-calc-tab" class="tab-content hidden flex flex-col h-full">
            <!-- Header -->
            <header class="px-4 pt-8 pb-4">
                <h1 class="text-zinc-800 dark:text-white tracking-tight text-2xl font-bold leading-tight text-center">
                    Yakıt Hesaplama</h1>
            </header>

            <div class="flex-grow flex flex-col justify-between p-4">
                <div class="space-y-6">
                    <!-- Result Display -->
                    <div class="flex justify-center py-8">
                        <div class="relative flex items-center justify-center size-52">
                            <svg class="absolute inset-0 size-full -rotate-90" viewBox="0 0 100 100"
                                xmlns="http://www.w3.org/2000/svg">
                                <circle class="stroke-zinc-200 dark:stroke-zinc-800" cx="50" cy="50" fill="none" r="45"
                                    stroke-dasharray="282.74" stroke-dashoffset="0" stroke-width="8"></circle>
                                <circle id="fuel-arc" class="stroke-primary" cx="50" cy="50" fill="none" r="45"
                                    stroke-dasharray="282.74" stroke-dashoffset="197.92" stroke-linecap="round"
                                    stroke-width="8"></circle>
                            </svg>
                            <div class="text-center">
                                <p id="fuel-result" class="text-4xl font-bold text-green-500">0.00₺</p>
                                <p class="text-sm font-medium text-zinc-500 dark:text-zinc-400">KM başına</p>
                            </div>
                        </div>
                    </div>

                    <!-- Input Fields -->
                    <div class="space-y-4">
                        <div class="flex flex-col">
                            <label
                                class="text-zinc-900 dark:text-white text-base font-medium leading-normal pb-2">Alınan
                                Yakıt (₺)</label>
                            <input id="fuel-cost"
                                class="flex w-full resize-none overflow-hidden rounded-lg text-zinc-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-zinc-300 dark:border-zinc-700 bg-background-light dark:bg-zinc-900 h-14 placeholder:text-zinc-400 dark:placeholder:text-zinc-500 p-4 text-base font-normal leading-normal"
                                placeholder="örn: 1500" type="number" step="0.01" value="" />
                        </div>

                        <div class="flex flex-col">
                            <label
                                class="text-zinc-900 dark:text-white text-base font-medium leading-normal pb-2">Gidilen
                                Yol (KM)</label>
                            <input id="fuel-distance"
                                class="flex w-full resize-none overflow-hidden rounded-lg text-zinc-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-zinc-300 dark:border-zinc-700 bg-background-light dark:bg-zinc-900 h-14 placeholder:text-zinc-400 dark:placeholder:text-zinc-500 p-4 text-base font-normal leading-normal"
                                placeholder="örn: 500" type="number" step="0.1" value="" />
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- iOS Install Prompt -->
        <div id="ios-install-prompt"
            class="hidden fixed bottom-20 left-4 right-4 bg-white dark:bg-zinc-800 rounded-2xl p-4 shadow-2xl border border-zinc-200 dark:border-zinc-700 z-50 transform transition-all duration-300 translate-y-full opacity-0">
            <div class="flex items-start gap-4">
                <button id="close-install-prompt"
                    class="absolute top-2 right-2 text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-200">
                    <span class="material-symbols-outlined text-xl">close</span>
                </button>
                <div class="bg-zinc-100 dark:bg-zinc-700 p-3 rounded-xl">
                    <span class="material-symbols-outlined text-primary text-3xl">ios_share</span>
                </div>
                <div class="flex-1 pr-6">
                    <h3 class="text-zinc-900 dark:text-white font-bold text-base mb-1">Uygulamayı Yükle</h3>
                    <p class="text-zinc-600 dark:text-zinc-400 text-sm leading-relaxed">
                        Daha iyi bir deneyim için:
                        <br>
                        1. <span class="inline-flex items-center justify-center align-middle mx-1"><span
                                class="material-symbols-outlined text-primary text-sm">ios_share</span></span>
                        <strong>Paylaş</strong> butonuna basın
                        <br>
                        2. <span class="inline-flex items-center justify-center align-middle mx-1"><span
                                class="material-symbols-outlined text-zinc-600 dark:text-zinc-400 text-sm">add_box</span></span>
                        <strong>Ana Ekrana Ekle</strong>'yi seçin
                    </p>
                </div>
            </div>
            <!-- Arrow pointing down -->
            <div
                class="absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-white dark:bg-zinc-800 border-b border-r border-zinc-200 dark:border-zinc-700 transform rotate-45">
            </div>
        </div>

        <!-- Bottom Navigation -->
        <nav class="fixed bottom-0 left-0 right-0 bg-background-light dark:bg-background-dark/95 backdrop-blur-sm border-t border-zinc-200 dark:border-zinc-800 z-50"
            style="padding-bottom: env(safe-area-inset-bottom);">
            <div class="max-w-md mx-auto flex justify-around items-center py-3">
                <button data-tab="home" class="nav-btn flex flex-col items-center text-primary gap-1">
                    <span class="material-symbols-outlined">home</span>
                    <span class="text-xs">Home</span>
                </button>
                <button data-tab="routes"
                    class="nav-btn flex flex-col items-center text-zinc-400 dark:text-zinc-500 gap-1">
                    <span class="material-symbols-outlined">route</span>
                    <span class="text-xs">Routes</span>
                </button>
                <button data-tab="gps-speed"
                    class="nav-btn flex flex-col items-center text-zinc-400 dark:text-zinc-500 gap-1">
                    <span class="material-symbols-outlined">gps_fixed</span>
                    <span class="text-xs">GPS Speed</span>
                </button>
                <button data-tab="fuel-calc"
                    class="nav-btn flex flex-col items-center text-zinc-400 dark:text-zinc-500 gap-1">
                    <span class="material-symbols-outlined">local_gas_station</span>
                    <span class="text-xs">Fuel Calc</span>
                </button>
            </div>
        </nav>

        <script src="script.js"></script>
        <script>
            if ('serviceWorker' in navigator) {
                window.addEventListener('load', () => {
                    navigator.serviceWorker.register('./service-worker.js')
                        .then(registration => {
                            console.log('ServiceWorker registration successful with scope: ', registration.scope);
                            // Force update
                            registration.update();
                        })
                        .catch(err => {
                            console.log('ServiceWorker registration failed: ', err);
                        });
                });
            }
        </script>
</body>

</html>