<!DOCTYPE html>
<html class="dark" lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>SürüşSkor - Driving Score Dashboard</title>
    <meta name="description" content="Motosiklet sürücüleri için akıllı hava durumu analizi ve güvenli rota planlama">

    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">

    <!-- Theme Colors -->
    <meta name="theme-color" content="#0da6f2">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&display=swap"
        rel="stylesheet" />
    <link
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
        rel="stylesheet" />

    <!-- Leaflet for Maps -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#0da6f2",
                        "background-light": "#f5f7f8",
                        "background-dark": "#101c22",
                    },
                    fontFamily: {
                        "display": ["Space Grotesk", "sans-serif"]
                    },
                    borderRadius: {
                        "DEFAULT": "1rem",
                        "lg": "2rem",
                        "xl": "3rem",
                        "full": "9999px"
                    },
                },
            },
        }
    </script>

    <style>
        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 300, 'GRAD' 0, 'opsz' 24;
        }

        body {
            min-height: 100dvh;
        }
    </style>
</head>

<body class="bg-background-light dark:bg-background-dark font-display">
    <!-- iOS Safe Area Top -->
    <div class="fixed top-0 left-0 right-0 bg-background-dark z-50" style="height: env(safe-area-inset-top);"></div>

    <!-- Main Container -->
    <div class="relative mx-auto flex h-auto min-h-screen w-full max-w-md flex-col overflow-x-hidden"
        style="padding-top: env(safe-area-inset-top); padding-bottom: calc(80px + env(safe-area-inset-bottom));">

        <!-- HOME TAB -->
        <div id="home-tab" class="tab-content">
            <header class="px-4 pt-8 pb-4 flex items-center justify-between">
                <div>
                    <h1 id="greeting-text"
                        class="text-zinc-800 dark:text-white tracking-tight text-3xl font-bold leading-tight">Günaydın
                    </h1>
                    <p class="text-zinc-600 dark:text-zinc-400 text-base font-normal leading-normal pt-1">Sürüşe hazır
                        mısın?</p>
                </div>
                <button id="refresh-btn"
                    class="flex items-center justify-center w-12 h-12 rounded-full bg-zinc-200 dark:bg-zinc-800 text-zinc-800 dark:text-white hover:bg-zinc-300 dark:hover:bg-zinc-700 transition-all">
                    <span class="material-symbols-outlined">refresh</span>
                </button>
            </header>

            <!-- Score Circle -->
            <div class="flex flex-col items-center justify-center p-6 space-y-6" id="score-section">
                <!-- Circle -->
                <div class="relative h-48 w-48">
                    <svg class="h-full w-full drop-shadow-xl" height="36" viewBox="0 0 36 36" width="36"
                        xmlns="http://www.w3.org/2000/svg">
                        <circle class="stroke-current text-zinc-200 dark:text-zinc-800" cx="18" cy="18" fill="none"
                            r="16" stroke-width="2"></circle>
                        <circle id="score-ring"
                            class="stroke-current text-primary transition-all duration-1000 ease-out" cx="18" cy="18"
                            fill="none" r="16" stroke-dasharray="100" stroke-dashoffset="100" stroke-linecap="round"
                            stroke-width="2" transform="rotate(-90 18 18)"></circle>
                    </svg>
                    <!-- Number inside circle -->
                    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-center">
                        <span id="score-number"
                            class="text-6xl font-bold text-zinc-800 dark:text-white tracking-tight">--</span>
                    </div>
                </div>

                <!-- Text Content (Below Circle) -->
                <div class="text-center space-y-1">
                    <p class="text-xs uppercase tracking-[0.2em] font-semibold text-zinc-400 dark:text-zinc-500">
                        Sürüş Skoru</p>
                    <div class="pt-1">
                        <p id="score-message" class="text-lg font-medium text-zinc-800 dark:text-zinc-200">--</p>
                    </div>
                </div>
            </div>



            <!-- Loading / Error -->
            <div id="loading" class="text-center py-4">
                <p class="text-zinc-500 dark:text-zinc-400">Konum alınıyor...</p>
            </div>
            <div id="error-msg" class="hidden mx-4 p-4 bg-red-500/10 border border-red-500/20 rounded-lg">
                <p class="text-red-500 text-sm"></p>
            </div>

            <!-- Weather Cards -->
            <div id="weather-section" class="hidden">
                <h3
                    class="text-zinc-800 dark:text-white text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4">
                    Mevcut Koşullar</h3>
                <div class="grid grid-cols-2 gap-3 p-4 pt-1">
                    <div
                        class="flex flex-1 gap-3 rounded-lg border border-zinc-200 dark:border-zinc-800 bg-white/50 dark:bg-zinc-900/50 p-4 flex-col">
                        <span class="material-symbols-outlined text-zinc-600 dark:text-primary">device_thermostat</span>
                        <div class="flex flex-col gap-1">
                            <h2 id="temp-value" class="text-zinc-800 dark:text-white text-base font-bold leading-tight">
                                --°C</h2>
                            <p class="text-zinc-500 dark:text-zinc-400 text-sm font-normal leading-normal">Sıcaklık</p>
                        </div>
                    </div>
                    <div
                        class="flex flex-1 gap-3 rounded-lg border border-zinc-200 dark:border-zinc-800 bg-white/50 dark:bg-zinc-900/50 p-4 flex-col">
                        <span class="material-symbols-outlined text-zinc-600 dark:text-primary">air</span>
                        <div class="flex flex-col gap-1">
                            <h2 id="wind-value" class="text-zinc-800 dark:text-white text-base font-bold leading-tight">
                                --</h2>
                            <p class="text-zinc-500 dark:text-zinc-400 text-sm font-normal leading-normal">Rüzgar</p>
                        </div>
                    </div>
                    <div
                        class="flex flex-1 gap-3 rounded-lg border border-zinc-200 dark:border-zinc-800 bg-white/50 dark:bg-zinc-900/50 p-4 flex-col">
                        <span class="material-symbols-outlined text-zinc-600 dark:text-primary">rainy</span>
                        <div class="flex flex-col gap-1">
                            <h2 id="rain-value" class="text-zinc-800 dark:text-white text-base font-bold leading-tight">
                                --</h2>
                            <p class="text-zinc-500 dark:text-zinc-400 text-sm font-normal leading-normal">Yağış</p>
                        </div>
                    </div>
                    <div
                        class="flex flex-1 gap-3 rounded-lg border border-zinc-200 dark:border-zinc-800 bg-white/50 dark:bg-zinc-900/50 p-4 flex-col">
                        <span class="material-symbols-outlined text-zinc-600 dark:text-primary">thermostat</span>
                        <div class="flex flex-col gap-1">
                            <h2 id="feel-value" class="text-zinc-800 dark:text-white text-base font-bold leading-tight">
                                --°C</h2>
                            <p class="text-zinc-500 dark:text-zinc-400 text-sm font-normal leading-normal">Hissedilen
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>



        <!-- ROUTES TAB -->
        <div id="routes-tab" class="tab-content hidden">
            <header class="px-4 pt-8 pb-4">
                <h1 class="text-zinc-800 dark:text-white tracking-tight text-2xl font-bold leading-tight">Rota Planlama
                </h1>
            </header>

            <div class="px-4 space-y-4">
                <!-- Form Container -->
                <div class="relative flex flex-col gap-4 rounded-lg bg-zinc-200/50 dark:bg-zinc-800/20 p-6 shadow-sm">
                    <!-- Start Location -->
                    <div class="relative flex flex-col">
                        <label class="text-zinc-600 dark:text-zinc-400 text-sm font-medium leading-normal pb-2"
                            for="start-input">Başlangıç</label>
                        <div class="relative">
                            <span
                                class="material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-zinc-400 dark:text-zinc-500">location_on</span>
                            <input id="start-input" type="text" placeholder="Başlangıç konumu girin"
                                value="Mevcut Konum"
                                class="w-full rounded-full border border-zinc-300 dark:border-zinc-700 bg-background-light dark:bg-zinc-900 pl-12 pr-4 h-14 text-base text-zinc-900 dark:text-white placeholder:text-zinc-500 focus:outline-none focus:ring-2 focus:ring-primary/50">
                        </div>
                    </div>

                    <!-- Destination -->
                    <div class="relative flex flex-col">
                        <label class="text-zinc-600 dark:text-zinc-400 text-sm font-medium leading-normal pb-2"
                            for="end-input">Varış</label>
                        <div class="relative">
                            <span
                                class="material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-zinc-400 dark:text-zinc-500">flag</span>
                            <input id="end-input" type="text" placeholder="Varış adresini girin"
                                class="w-full rounded-full border border-zinc-300 dark:border-zinc-700 bg-background-light dark:bg-zinc-900 pl-12 pr-4 h-14 text-base text-zinc-900 dark:text-white placeholder:text-zinc-500 focus:outline-none focus:ring-2 focus:ring-primary/50">
                        </div>
                    </div>
                </div>

                <!-- Get Score Button -->
                <button id="route-btn"
                    class="w-full rounded-full bg-primary px-5 h-14 text-white text-base font-bold tracking-[0.015em] shadow-lg shadow-primary/30 hover:brightness-110 transition-all">
                    Sürüş Skorunu Al
                </button>

                <!-- Route Results -->
                <div id="route-results" class="hidden space-y-4">
                    <!-- Score Circle -->
                    <div class="flex flex-col items-center justify-center pt-4 space-y-4">
                        <div class="relative h-40 w-40">
                            <svg class="h-full w-full drop-shadow-xl" height="36" viewBox="0 0 36 36" width="36"
                                xmlns="http://www.w3.org/2000/svg">
                                <circle class="stroke-current text-zinc-200 dark:text-zinc-800" cx="18" cy="18"
                                    fill="none" r="16" stroke-width="2"></circle>
                                <circle id="route-score-ring"
                                    class="stroke-current text-primary transition-all duration-1000 ease-out" cx="18"
                                    cy="18" fill="none" r="16" stroke-dasharray="100" stroke-dashoffset="15"
                                    stroke-linecap="round" stroke-width="2" transform="rotate(-90 18 18)"></circle>
                            </svg>
                            <!-- Number inside circle -->
                            <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-center">
                                <span id="route-score-number"
                                    class="text-5xl font-bold text-zinc-800 dark:text-white tracking-tight">--</span>
                            </div>
                        </div>
                        <!-- Label below -->
                        <div class="text-center">
                            <p
                                class="text-xs uppercase tracking-[0.2em] font-semibold text-zinc-400 dark:text-zinc-500">
                                Sürüş Skoru</p>
                            <div class="pt-1">
                                <p id="route-score-message"
                                    class="text-base font-medium text-zinc-800 dark:text-zinc-200">--</p>
                            </div>
                        </div>
                    </div>

                    <!-- Weather Cards -->
                    <div>
                        <h3
                            class="text-zinc-800 dark:text-white text-lg font-bold leading-tight tracking-[-0.015em] pb-2">
                            Rota Hava Durumu</h3>
                        <div class="grid grid-cols-2 gap-3">
                            <div
                                class="flex flex-1 gap-3 rounded-lg border border-zinc-200 dark:border-zinc-800 bg-white/50 dark:bg-zinc-900/50 p-4 flex-col">
                                <span
                                    class="material-symbols-outlined text-zinc-600 dark:text-primary">device_thermostat</span>
                                <div class="flex flex-col gap-1">
                                    <h2 id="route-temp-value"
                                        class="text-zinc-800 dark:text-white text-base font-bold leading-tight">--°C
                                    </h2>
                                    <p class="text-zinc-500 dark:text-zinc-400 text-sm font-normal leading-normal">
                                        Sıcaklık</p>
                                </div>
                            </div>
                            <div
                                class="flex flex-1 gap-3 rounded-lg border border-zinc-200 dark:border-zinc-800 bg-white/50 dark:bg-zinc-900/50 p-4 flex-col">
                                <span class="material-symbols-outlined text-zinc-600 dark:text-primary">air</span>
                                <div class="flex flex-col gap-1">
                                    <h2 id="route-wind-value"
                                        class="text-zinc-800 dark:text-white text-base font-bold leading-tight">--</h2>
                                    <p class="text-zinc-500 dark:text-zinc-400 text-sm font-normal leading-normal">
                                        Rüzgar</p>
                                </div>
                            </div>
                            <div
                                class="flex flex-1 gap-3 rounded-lg border border-zinc-200 dark:border-zinc-800 bg-white/50 dark:bg-zinc-900/50 p-4 flex-col">
                                <span class="material-symbols-outlined text-zinc-600 dark:text-primary">rainy</span>
                                <div class="flex flex-col gap-1">
                                    <h2 id="route-rain-value"
                                        class="text-zinc-800 dark:text-white text-base font-bold leading-tight">--</h2>
                                    <p class="text-zinc-500 dark:text-zinc-400 text-sm font-normal leading-normal">
                                        Yağış</p>
                                </div>
                            </div>
                            <div
                                class="flex flex-1 gap-3 rounded-lg border border-zinc-200 dark:border-zinc-800 bg-white/50 dark:bg-zinc-900/50 p-4 flex-col">
                                <span
                                    class="material-symbols-outlined text-zinc-600 dark:text-primary">thermostat</span>
                                <div class="flex flex-col gap-1">
                                    <h2 id="route-feel-value"
                                        class="text-zinc-800 dark:text-white text-base font-bold leading-tight">--°C
                                    </h2>
                                    <p class="text-zinc-500 dark:text-zinc-400 text-sm font-normal leading-normal">
                                        Hissedilen</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- External Map Buttons -->
                    <div class="flex gap-4 pt-2">
                        <button id="btn-open-google"
                            class="flex flex-1 flex-col items-center justify-center gap-2 rounded-lg bg-zinc-200/50 dark:bg-zinc-800/20 px-5 py-4 text-sm font-medium text-zinc-900 dark:text-white hover:bg-zinc-300/50 dark:hover:bg-zinc-700/30 transition-all">
                            <div class="h-10 w-10 flex items-center justify-center bg-white rounded-full shadow-sm p-2">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" class="w-full h-full">
                                    <path fill="#4285F4"
                                        d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z" />
                                    <path fill="#34A853"
                                        d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z" />
                                    <path fill="#FBBC05"
                                        d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z" />
                                    <path fill="#EA4335"
                                        d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z" />
                                </svg>
                            </div>
                            <span>Google Maps</span>
                        </button>

                        <button id="btn-open-apple"
                            class="flex flex-1 flex-col items-center justify-center gap-2 rounded-lg bg-zinc-200/50 dark:bg-zinc-800/20 px-5 py-4 text-sm font-medium text-zinc-900 dark:text-white hover:bg-zinc-300/50 dark:hover:bg-zinc-700/30 transition-all">
                            <div
                                class="h-10 w-10 flex items-center justify-center bg-black dark:bg-white rounded-full p-2">
                                <svg viewBox="0 0 24 24" class="w-full h-full fill-white dark:fill-black">
                                    <path
                                        d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.21-1.96 1.07-3.11-1.05.05-2.31.69-3.06 1.59-.69.82-1.29 2.1-1.13 3.21 1.19.08 2.4-.83 3.12-1.69z" />
                                </svg>
                            </div>
                            <span>Apple Maps</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- GPS SPEED TAB -->
        <div id="gps-speed-tab" class="tab-content hidden flex flex-col h-full">
            <!-- Header -->
            <header class="px-4 pt-8 pb-4">
                <h1 class="text-zinc-800 dark:text-white tracking-tight text-2xl font-bold leading-tight text-center">
                    Anlık Hız</h1>
            </header>

            <!-- Speedometer Gauge -->
            <div class="flex-grow flex flex-col items-center justify-center p-4">
                <div class="relative w-full max-w-sm aspect-square flex items-center justify-center">
                    <!-- Outer glow effect -->
                    <div class="absolute inset-0 rounded-full bg-primary/20 blur-2xl"></div>
                    <!-- Background dial -->
                    <div class="absolute inset-[10%] rounded-full bg-zinc-800/50 border border-white/10"></div>
                    <!-- Speed Arc -->
                    <svg class="absolute w-full h-full transform -rotate-90" viewBox="0 0 100 100">
                        <circle cx="50" cy="50" fill="none" pathLength="100" r="40" stroke="rgba(255,255,255,0.1)"
                            stroke-linecap="round" stroke-width="6"></circle>
                        <circle id="speed-arc" cx="50" cy="50" fill="none" pathLength="100" r="40" stroke="#0da6f2"
                            stroke-dasharray="0 100" stroke-dashoffset="0" stroke-linecap="round" stroke-width="6"
                            class="transition-all duration-1000 ease-out">
                        </circle>
                    </svg>
                    <!-- Digital Readout -->
                    <div class="z-10 text-center">
                        <p class="text-white/60 text-base font-medium leading-tight">Anlık Hız</p>
                        <h1 id="current-speed" class="text-white text-[80px] font-bold leading-none tracking-tighter">
                            0</h1>
                        <p class="text-white/80 text-xl font-medium leading-tight">km/h</p>
                    </div>
                </div>
            </div>

            <!-- Start/Stop Button -->
            <div class="px-4 pb-4">
                <button id="start-gps-btn"
                    class="w-full rounded-full bg-green-500 px-5 h-14 text-white text-base font-bold tracking-[0.015em] shadow-lg shadow-green-500/30 hover:brightness-110 transition-all">
                    GPS'i Başlat
                </button>
                <button id="stop-gps-btn"
                    class="w-full rounded-full bg-red-500 px-5 h-14 text-white text-base font-bold tracking-[0.015em] shadow-lg shadow-red-500/30 hover:brightness-110 transition-all hidden">
                    GPS'i Durdur
                </button>
            </div>

            <!-- Max Speed Card -->
            <div class="px-4 pb-4">
                <div class="flex items-center justify-between gap-4 rounded-lg bg-white/5 dark:bg-white/5 p-6">
                    <div class="flex flex-col gap-1">
                        <p class="text-zinc-800 dark:text-white text-lg font-bold leading-tight">Maksimum Hız</p>
                        <p class="text-zinc-500 dark:text-white/60 text-sm font-normal leading-normal">Bu sürüşteki en
                            yüksek hız</p>
                    </div>
                    <div class="flex items-baseline gap-2">
                        <span id="max-speed" class="text-zinc-800 dark:text-white text-4xl font-bold">0</span>
                        <span class="text-zinc-500 dark:text-white/80 text-lg font-medium">km/h</span>
                    </div>
                </div>
            </div>

            <!-- GPS Status -->
            <div class="px-4 pb-4">
                <div class="flex items-center justify-center gap-2 text-sm">
                    <div id="gps-status-indicator" class="w-2 h-2 rounded-full bg-gray-500"></div>
                    <span id="gps-status-text" class="text-zinc-500 dark:text-zinc-400">GPS bekleniyor...</span>
                </div>
            </div>
        </div>

        <!-- FUEL CALC TAB -->
        <div id="fuel-calc-tab" class="tab-content hidden flex flex-col h-full">
            <!-- Header -->
            <header class="px-4 pt-8 pb-4">
                <h1 class="text-zinc-800 dark:text-white tracking-tight text-2xl font-bold leading-tight text-center">
                    Yakıt Hesaplama</h1>
            </header>

            <div class="flex-grow flex flex-col justify-between p-4">
                <div class="space-y-6">
                    <!-- Result Display -->
                    <div class="flex justify-center py-8">
                        <div class="relative flex items-center justify-center size-52">
                            <svg class="absolute inset-0 size-full -rotate-90" viewBox="0 0 100 100"
                                xmlns="http://www.w3.org/2000/svg">
                                <circle class="stroke-zinc-200 dark:stroke-zinc-800" cx="50" cy="50" fill="none" r="45"
                                    stroke-dasharray="282.74" stroke-dashoffset="0" stroke-width="8"></circle>
                                <circle id="fuel-arc" class="stroke-primary transition-all duration-1000 ease-out"
                                    cx="50" cy="50" fill="none" r="45" stroke-dasharray="282.74"
                                    stroke-dashoffset="197.92" stroke-linecap="round" stroke-width="8"></circle>
                            </svg>
                            <div class="text-center">
                                <p id="fuel-result" class="text-4xl font-bold text-green-500">0.00₺</p>
                                <p class="text-sm font-medium text-zinc-500 dark:text-zinc-400">KM başına</p>
                            </div>
                        </div>
                    </div>

                    <!-- Input Fields -->
                    <div class="space-y-4">
                        <div class="flex flex-col">
                            <label
                                class="text-zinc-900 dark:text-white text-base font-medium leading-normal pb-2">Alınan
                                Yakıt (₺)</label>
                            <input id="fuel-cost"
                                class="flex w-full resize-none overflow-hidden rounded-lg text-zinc-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-zinc-300 dark:border-zinc-700 bg-background-light dark:bg-zinc-900 h-14 placeholder:text-zinc-400 dark:placeholder:text-zinc-500 p-4 text-base font-normal leading-normal"
                                placeholder="örn: 1500" type="number" step="0.01" value="" />
                        </div>

                        <div class="flex flex-col">
                            <label
                                class="text-zinc-900 dark:text-white text-base font-medium leading-normal pb-2">Gidilen
                                Yol (KM)</label>
                            <input id="fuel-distance"
                                class="flex w-full resize-none overflow-hidden rounded-lg text-zinc-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-zinc-300 dark:border-zinc-700 bg-background-light dark:bg-zinc-900 h-14 placeholder:text-zinc-400 dark:placeholder:text-zinc-500 p-4 text-base font-normal leading-normal"
                                placeholder="örn: 500" type="number" step="0.1" value="" />
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- iOS Install Prompt -->
        <div id="ios-install-prompt"
            class="hidden fixed bottom-20 left-4 right-4 bg-white dark:bg-zinc-800 rounded-2xl p-4 shadow-2xl border border-zinc-200 dark:border-zinc-700 z-50 transform transition-all duration-300 translate-y-full opacity-0">
            <div class="flex items-start gap-4">
                <button id="close-install-prompt"
                    class="absolute top-2 right-2 text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-200">
                    <span class="material-symbols-outlined text-xl">close</span>
                </button>
                <div class="bg-zinc-100 dark:bg-zinc-700 p-3 rounded-xl">
                    <span class="material-symbols-outlined text-primary text-3xl">ios_share</span>
                </div>
                <div class="flex-1 pr-6">
                    <h3 class="text-zinc-900 dark:text-white font-bold text-base mb-1">Uygulamayı Yükle</h3>
                    <p class="text-zinc-600 dark:text-zinc-400 text-sm leading-relaxed">
                        Daha iyi bir deneyim için:
                        <br>
                        1. <span class="inline-flex items-center justify-center align-middle mx-1"><span
                                class="material-symbols-outlined text-primary text-sm">ios_share</span></span>
                        <strong>Paylaş</strong> butonuna basın
                        <br>
                        2. <span class="inline-flex items-center justify-center align-middle mx-1"><span
                                class="material-symbols-outlined text-zinc-600 dark:text-zinc-400 text-sm">add_box</span></span>
                        <strong>Ana Ekrana Ekle</strong>'yi seçin
                    </p>
                </div>
            </div>
            <!-- Arrow pointing down -->
            <div
                class="absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-white dark:bg-zinc-800 border-b border-r border-zinc-200 dark:border-zinc-700 transform rotate-45">
            </div>
        </div>

        <!-- Bottom Navigation -->
        <nav class="fixed bottom-0 left-0 right-0 bg-background-light dark:bg-background-dark/95 backdrop-blur-sm border-t border-zinc-200 dark:border-zinc-800 z-50"
            style="padding-bottom: env(safe-area-inset-bottom);">
            <div class="max-w-md mx-auto flex justify-around items-center py-3">
                <button data-tab="home" class="nav-btn flex flex-col items-center text-primary gap-1">
                    <span class="material-symbols-outlined">home</span>
                    <span class="text-xs">Ana Sayfa</span>
                </button>
                <button data-tab="routes"
                    class="nav-btn flex flex-col items-center text-zinc-400 dark:text-zinc-500 gap-1">
                    <span class="material-symbols-outlined">route</span>
                    <span class="text-xs">Rotalar</span>
                </button>
                <button data-tab="gps-speed"
                    class="nav-btn flex flex-col items-center text-zinc-400 dark:text-zinc-500 gap-1">
                    <span class="material-symbols-outlined">gps_fixed</span>
                    <span class="text-xs">Hız Ölçer</span>
                </button>
                <button data-tab="fuel-calc"
                    class="nav-btn flex flex-col items-center text-zinc-400 dark:text-zinc-500 gap-1">
                    <span class="material-symbols-outlined">local_gas_station</span>
                    <span class="text-xs">Yakıt</span>
                </button>
            </div>
        </nav>

        <script src="script.js"></script>
        <script>
            if ('serviceWorker' in navigator) {
                window.addEventListener('load', () => {
                    navigator.serviceWorker.register('./service-worker.js')
                        .then(registration => {
                            console.log('ServiceWorker registration successful with scope: ', registration.scope);
                            // Force update
                            registration.update();
                        })
                        .catch(err => {
                            console.log('ServiceWorker registration failed: ', err);
                        });
                });
            }
        </script>
</body>

</html>